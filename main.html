<meta id="viewportid" content="width=device-width" name="viewport">
<meta content="target-densitydpi=device-dpi,initial-scale=1.0, maximum-scale=3.0, user-scalable=1" name="viewport">
<meta name="description" content="Steak Web,为上课摸鱼的同志们量身打造的网页。">
<title>Steak Web</title>
<script>
    if(window.location.search!=="?dd_nav_bgcolor=ff000000"){
    window.location.search="?dd_nav_bgcolor=ff000000"
    }
</script>
<style>
    *{margin:0px;padding:0px;vertical-align:middle;outline:none;}
    img {vertical-align:middle;}
    div::-webkit-scrollbar {display:none;}
    body{width:100%;height:100%;overflow:hidden;background:#000;}
    #mainBox{width:100%;height:100%;position:absolute;background:#000;}
    #ctrlBox{width:100%;height:48px;text-align:center;position:fixed;bottom:0;background:rgba(0,0,0,0.18);transition:all 0.3s;}
    #cBox1{float:left;}
    #cBox2{float:right;}

    #navB{width:200px;height:0px;background:rgb(245,245,246);position:absolute;left:0px;border-radius:4px;bottom:48px;overflow:hidden;transition:all 0.3s;box-shadow:3px 3px 5px rgba(0,0,0,0.3);text-align:center;}
    #mineB{left:48px;}
    #FBI{width:100%;height:100%;position:fixed;background:#000;display:none;}
    #ctrlBox button{width:48px;height:48px;background:rgba(245,245,246,0.85);border:0px;font-size:75%;color:rgb(120,120,120);transition:all 0.2s;}
    #ctrlBox:hover button{background:rgb(245,245,246);}
    #ctrlBox button:active{background:rgb(215,215,216);}
    #ctrlBox button img{width:26px;height:26px;margin:0px 6px;}
    .alink {width:100%;height:36px;background:rgba(0,0,0,0.1);border:0;border-bottom:1pt solid #ccc;transition:all 0.2s;font-size:105%;}
    .alink:active {background:rgba(0,0,0,0.3);}
.ic{vertical-align:middle;width:40px;transform:scale(0.8);background:rgba(245,245,246,0.15);}

#ifmMain{transition:left 0.2s;}
.ifm{width:100%;height:100%;position:relative;background:rgba(0,0,0,0.05);height:100%;border:0px;}
.ifmL {width:31%;height:100%;border:0px;background:rgb(243,243,244);position:relative;left:0%;}
.ifmM {width:31%;height:100%;border:0px;background:rgb(243,243,244);position:relative;left:34%;}
.ifmR {width:31%;height:100%;border:0px;background:rgb(243,243,244);position:relative;left:69%;}

#SETTING,#Mine{width:20%;height:60%;left:40%;top:-65%;transition:all 0.2s;position:absolute;background:rgb(245,245,246);border-radius:4px;box-shadow:3px 3px 6px #666;text-align:center;display:none;}
.setbtn{width:20%;height:30px;background:rgb(44, 44, 44);border:0;border-radius:4px;border-bottom:1pt solid #ccc;color:#efefef;}
</style>
<body>
    <div id="mainBox">
<iframe src="" id="ifmMain" class="ifm"></iframe>
<div id="ctrlBox">
    <div id="cBox1">
        <button onclick="ZXH(this);"><img src="pic/ZXH.png">最小化</button><button onclick="cBox1F(1);"><img src="pic/CD.png">菜单</button><button onclick="Alert('Mine');"><img src="pic/CHAT.png">新消息</button>
    </div>
    <div id="cBox2">
        <button onclick="cBox2F(1);"><span style="font-size:200%;"><</span><br>返回</button><button onclick="cBox2F(2);"><img src="pic/home.png">主页</button><button onclick="cBox2F(3);"><span style="font-size:200%;">></span><br>前进</button>
        </div>
    <div id="cBox3">
        <button><img>选择</button><button onclick="FBI(0);"><span style="font-size:200%;">×</span><br>FBI</button><button onclick="IfmSize();"><img src="pic/HP.png">换屏</button>
    </div>
</div>

<div id="navB" style="overflow:scroll;">
    <p style="font-size:125%;font-weight:bold;">菜单</p>
    <hr>
    <br>
    <ul>
        <li>
        <button class="alink" onclick="toUrl('404.html');"><img src="pic/load.png" class="ic"></img><span class="lispan">深水鱼塘</span></button>
        </li>
        <li>
        <button class="alink" onclick="toUrl('src/wisdomclass.html');"><img src="pic/wisdomclass-icon.png" class="ic"></img><span class="lispan">智慧课堂</span></button>
        </li>
        <br>
        <li>
            <button class="alink" onclick="Alert('Mine');"><img class="ic" src="pic/info.png"></img><span class="lispan">更新日志</span></button>
            </li>
        <li>
        <button class="alink" onclick="SETTING('DK',0);"><img src="pic/golden_pickaxe.png" class="ic"></img><span class="lispan">页面设置</span></button>
        </li>
        </ul>
        <br>
        <br>
        <p style="font-size:60%;color:#777;">Version_WebView_1.0.0Beta
        <br>Made By Taste_Steak
        </p>
</div>
    </div>

    <div id="FBI">
        <div style="width:100%;position:absolute;bottom:10vh;color:rgb(24, 24, 24);text-align:center;font-size:90%;" onmouseup="FBI(1);">放手以关闭</div>
    </div>

<div id="zheZhao" style="width:100%;height: calc(100% - 48px);position:fixed;background:rgba(0,0,0,0.1);display:none;transition:all 0.5s;">
    <div id="SETTING">
        <div style="position:relative;width:90%;height:90%;top:5%;left:5%;">
        <h3>页面设置</h3>
        <hr>
        <br>
        <div style="overflow:scroll;height:65%;">
        <div class="alink" style="height:auto;">窗口显示
            <br>
            <button class ="setbtn" onclick="SETTING('CKXS',0);">靠左</button>
            <button class="setbtn" onclick="SETTING('CKXS',1);">居中</button>
            <button class="setbtn" onclick="SETTING('CKXS',2);">靠右</button>
            
        </div>
        
        <br>
        <div class="alink" style="height:auto;">页面分辨率
            <br>
            <button class ="setbtn" onclick="SETTING('FBL','device-width');">自动</button>
            <button class="setbtn" onclick="SETTING('FBL','720px');">720P</button>
            <button class="setbtn" onclick="SETTING('FBL','840px');">840P</button>
            <br>
            <button class ="setbtn" onclick="SETTING('FBL','1080px');">1080P</button>
            <button class="setbtn" onclick="SETTING('FBL','1220px');">1220P</button>
            <button class="setbtn" onclick="SETTING('FBL','1440px');">1440P</button>
            
        </div>
    </div>
        <div style="position:relative;top:5vh;"><button class="setbtn" onclick="SETTING('GB',0);">完成</button></div>
        </div>
    </div>

    <div id="Mine">
        <div style="position:relative;width:90%;height:90%;top:5%;left:5%;">
        <h3>更新日志</h3>
        <hr>
        <br>
        <div style="overflow:scroll;height:65%;">
            <span style="font-size:80%;color:#ccc;">版本已更新至1.0.0Beta</span>
            <p>
                UI界面已更换，并优化了页面加载
                <br>FBI触发逻辑已修复.
                
                <br><br>
                <p>
                    若不习惯使用新版本网页，可跳转至
                    <br><i><a href="main.htm" style="text-decoration:none;color:rgb(226, 197, 101);font-size:70%;">https://tastesteak.github.io/web/main.htm</a></i>
                </p>
            </p>
    </div>
        <div style="position:relative;top:5vh;"><button class="setbtn" onclick="Alert('GB');localStorage.update = 1;">我已了解</button></div>
        </div>
    </div>
</div>
</body>
<script>
    window.onload = function(){
        document.querySelector("#ifmMain").src="https://tastesteak.github.io/web/src/li2.html";
        document.querySelector("#viewportid").setAttribute("content","width="+localStorage.WebPixel);
        if(localStorage.update < 1 || localStorage.update==undefined){
            Alert('Mine');
    }
    }
    var m1=0;
    var m2=0;

    function toUrl(url){
        Ifm.src=url;
    }

    function Alert(type) {
        if(type=="Mine"){
    document.querySelector("#zheZhao").style.display="block";
    setTimeout('document.querySelector("#zheZhao").style.background="rgba(0,0,0,0.5)"',100);
    document.querySelector("#Mine").style.display="block";
    setTimeout('document.querySelector("#Mine").style.top="15%"',100);
        }
        if(type=="GB"){
        document.querySelector("#zheZhao").style.background="rgba(0,0,0,0.1)";
        document.querySelector("#Mine").style.top="-65%";
        setTimeout('document.querySelector("#zheZhao").style.display="none";',100);
        setTimeout('document.querySelector("#Mine").style.display="none";',100);
        }
    }

    function SETTING(type,n){
        cBox1F();
    if(type=="DK"){
    document.querySelector("#zheZhao").style.display="block";
    setTimeout('document.querySelector("#zheZhao").style.background="rgba(0,0,0,0.5)"',100);
    document.querySelector("#SETTING").style.display="block";
    setTimeout('document.querySelector("#SETTING").style.top="15%"',100);
    }
    if(type=="CKXS"){
        if(n==0){localStorage.rotateType='IfmL';}
        if(n==1){localStorage.rotateType='IfmM';}
        if(n==2){localStorage.rotateType='IfmR';}

        Ifm.className=localStorage.rotateType;
        return;
    }
    if(type=="FBL"){
        document.querySelector("#viewportid").setAttribute("content","width="+n);
        localStorage.WebPixel=n;
    }

    if(type=="GB"){
        document.querySelector("#zheZhao").style.background="rgba(0,0,0,0.1)";
        document.querySelector("#SETTING").style.top="-65%";
        setTimeout('document.querySelector("#zheZhao").style.display="none";',100);
        setTimeout('document.querySelector("#SETTING").style.display="none";',100);
        return;
    }
    }

    var Ifm=document.querySelector("#ifmMain");
    function IfmSize(){
        if(Ifm.className=="ifm"){
        if(localStorage.rotateType){Ifm.className=localStorage.rotateType;return;}
        else{Ifm.className="ifmM"}
        }
        else{
            Ifm.className="ifm";
        }
    }

    var FBIB=document.querySelector("#FBI");
    function FBI(n){
    if(n==0)FBIB.style.display="block";
    if(n==1)FBIB.style.display="none";
    }

    function ZXH(str){
    cBox1F();
    var m=document.querySelector("#ctrlBox");
    if(m.style.width=="48px"){m.style.width="100%";
    str.innerHTML="<img>最小化";}
    else{m.style.width="48px";
    str.innerHTML="<img>恢复";}

    }
    function cBox1F(n){
        document.querySelector("#navB").style.height="0";

        if(n==1){
            if(m1%2==0)document.querySelector("#navB").style.height="40%";
            if(m1%2==1)document.querySelector("#navB").style.height="0";
            m1++;
            return;
        }
    }
    function cBox2F(n){
        if(n==1)history.back();
        if(n==2)history.go();
        if(n==3)history.forward();
    }
</script>